System.register(["proxy-compare"],function(H){"use strict";var k,P;return{setters:[function(p){k=p.getUntracked,P=p.markToTrack}],execute:function(){H({getHandler:z,getVersion:U,proxy:T,ref:K,snapshot:q,subscribe:V});const p=Symbol(),a=Symbol(),j=Symbol(),R=Symbol(),b=Symbol(),v=Symbol(),w=new WeakSet;function K(t){return w.add(t),t}const h=t=>typeof t=="object"&&t!==null,N=t=>h(t)&&!w.has(t)&&(Array.isArray(t)||!(Symbol.iterator in t))&&!(t instanceof WeakMap)&&!(t instanceof WeakSet)&&!(t instanceof Error)&&!(t instanceof Number)&&!(t instanceof Date)&&!(t instanceof String)&&!(t instanceof RegExp)&&!(t instanceof ArrayBuffer),x=new WeakMap;let A=1;const E=new WeakMap;function T(t={}){if(!h(t))throw new Error("object required");const g=x.get(t);if(g)return g;let f=A;const y=new Set,l=(n,e=++A)=>{f!==e&&(f=e,y.forEach(r=>r(n,e)))},u=new Map,m=n=>{let e=u.get(n);return e||(e=(r,c)=>{const i=[...r];i[1]=[n,...i[1]],l(i,c)},u.set(n,e)),e},W=n=>{const e=u.get(n);return u.delete(n),e},B=(n,e)=>{const r=E.get(e);if((r==null?void 0:r[0])===f)return r[1];const c=Array.isArray(n)?[]:Object.create(Object.getPrototypeOf(n));return P(c,!0),E.set(e,[f,c]),Reflect.ownKeys(n).forEach(i=>{const o=Reflect.get(n,i,e);if(w.has(o))P(o,!1),c[i]=o;else if(o instanceof Promise)if(b in o)c[i]=o[b];else{const O=o[v]||o;Object.defineProperty(c,i,{get(){if(b in o)return o[b];throw O}})}else o!=null&&o[a]?c[i]=o[j]:c[i]=o}),Object.freeze(c),c},D=Array.isArray(t)?[]:Object.create(Object.getPrototypeOf(t)),M={get(n,e,r){return e===p?f:e===a?y:e===j?B(n,r):e===R?M:Reflect.get(n,e,r)},deleteProperty(n,e){const r=Reflect.get(n,e),c=r==null?void 0:r[a];c&&c.delete(W(e));const i=Reflect.deleteProperty(n,e);return i&&l(["delete",[e],r]),i},is:Object.is,canProxy:N,set(n,e,r,c){var i;const o=Reflect.get(n,e,c);if(this.is(o,r))return!0;const O=o==null?void 0:o[a];O&&O.delete(W(e)),h(r)&&(r=k(r)||r);let s;return(i=Object.getOwnPropertyDescriptor(n,e))!=null&&i.set?s=r:r instanceof Promise?s=r.then(d=>(s[b]=d,l(["resolve",[e],d]),d)).catch(d=>{s[v]=d,l(["reject",[e],d])}):r!=null&&r[a]?(s=r,s[a].add(m(e))):this.canProxy(r)?(s=T(r),s[a].add(m(e))):s=r,Reflect.set(n,e,s,c),l(["set",[e],r,o]),!0}},S=new Proxy(D,M);return x.set(t,S),Reflect.ownKeys(t).forEach(n=>{const e=Object.getOwnPropertyDescriptor(t,n);e.get||e.set?Object.defineProperty(D,n,e):S[n]=t[n]}),S}function U(t){return h(t)?t[p]:void 0}function V(t,g,f){let y;const l=[],u=m=>{if(l.push(m),f){g(l.splice(0));return}y||(y=Promise.resolve().then(()=>{y=void 0,g(l.splice(0))}))};return t[a].add(u),()=>{t[a].delete(u)}}function q(t){return t[j]}function z(t){return t[R]}}}});
